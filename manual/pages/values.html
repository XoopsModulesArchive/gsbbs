<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="ja"> <head> <meta http-equiv="content-type" content="text/html;charset=EUC-JP"> <title>詳細な設定</title> <style type="text/css" media="screen"><!--body { font-size: 10pt }--></style> </head> <body bgcolor="#ffffff" leftmargin="20" marginwidth="20"> <p><font size="+2" color="#006600">詳細な設定</font></p> <p><font color="#ff00ff">●</font> 掲示板の上部に表示される「お知らせ」欄は /modules/gsbbs/inc_files/infomation.txt に記述されています。このファイルの内容を管理室から書き換えることによって、任意のお知らせをユーザに見せることができます。index.php では、このファイルを PHP から include して読み込んでいますので、HTML タグがそのまま有効になりますので、改行する場合は &lt;br&gt; タグなどを記述して下さい。また、&lt;? ?&gt; で囲んで PHP コードを 記述すれば 有効に処理されます。</p> <p><font color="#ff00ff">●</font> 各機能の on / off 設定、及びその他の設定は /modules/gsbbs/inc_files/share_vars.php に集約して記述されています。設定を変更するには管理室の基本設定画面から変更してください。</p> <blockquote> <p>$bbs_title = &quot;<font color="red">G's BBS [XOOPS]</font>&quot;;</p> <blockquote> <p>掲示板のタイトルやお知らせメールの SUBJECT として利用されます。</p> </blockquote> <p>$home_url = &quot;<font color="red">http://your_homepage/</font>&quot;;</p> <blockquote> <p>掲示板左最上部に表示される「home」ボタンのリンク先を指定します。掲示板を設置するサイトのメインページの URL を記入して下さい。</p> </blockquote> <p>$bbs_url = &quot;<font color="red">http://your_homepage/modules/gsbbs/index.php</font>&quot;;</p> <blockquote> <p>掲示板へアクセスするための URL を指定します。この値はお知らせメール内の掲示板へのリンクに使用されます。</p> </blockquote> <p>$bbs_i_url = &quot;<font color="red">http://your_homepage/modules/gsbbs/mp/index.php</font>&quot;;</p> <blockquote> <p>掲示板の i-mode ページへアクセスするための URL を指定します。この値はお知らせメール内の掲示板へのリンクに使用されます。</p> </blockquote> <p>$sread_pp = <font color="red">6</font>;</p> <blockquote> <p>ノーマル表示の際、１ページにいくつのスレッドを表示するのかを指定します。</p> </blockquote> <p>$list_pp = <font color="red">20</font>;</p> <blockquote> <p>リスト表示の際、１ページにいくつのスレッドを表示するのかを指定します。管理ページの表示にもこの値が適用されます。</p> </blockquote> <p>$sread_list = &quot;<font color="red">on</font>&quot;;</p> <blockquote> <p>on に設定すると、掲示板の上部に「２ちゃんねる風」なスレッド名一覧が表示されます。</p> </blockquote> <p>$top_post_form = &quot;<font color="red">off</font>&quot;;</p> <blockquote> <p>掲示板トップページに投稿フォームを表示するかどうか設定します。表示させたい場合は on にしてください。デフォルト値はoffです。</p> </blockquote> <p>$sread_list_num = <font color="red">50</font>; //スレッドタイトル一覧表示で何件のスレッドまで表示するか。</p> <blockquote> <p>上記の $sread_list が on の場合、スレッド名一覧表示に何件のスレッドまでを表示するかを設定します。この数字を超えるスレッドが存在する場合は「スレッド一覧はこちら」という全スレッド名の一覧を別ウィンドウに開くためのリンクが表示されます。$sread_list が on でない場合、この値は参照されません。</p> </blockquote> <p>$tags_valid = &quot;<font color="red">off</font>&quot;;</p> <blockquote> <p>この値を off に設定すると、投稿された記事内に含まれる HTML の予約文字を安全な文字列に変換して表示します。具体的には、ブラウザに出力する前に PHP の htmlapecialchars 関数によって「&amp;(アンパサンド) → &amp;amp;」「&quot;(二重引用符) → &amp;quot;」「&lt;(未満) → &amp;lt;」「&lt;(より大きい) → &amp;gt;」と変換されます。この設定の値を off 以外にすると投稿者が入力した HTML タグなども有効な形でブラウザへ出力されます。HTML タグを有効にする場合は on にしてください。</p> </blockquote> <p>$auto_link = &quot;<font color="red">2</font>&quot;;</p> <blockquote> <p>親記事と子記事の本文中にhttp://で始まる文字列を見つけた時、自動的に&lt;a&gt;を付加しリンクを貼るかどうか設定します。</p> </blockquote> <p>$link_moji = &quot;<font color="red">◆クリックするとリンクが開きます◆</font>&quot;;</p> <blockquote> <p>$auto_link設定で文字変換を選んだとき変換される文字列を設定します。</p> </blockquote> <p>$ip_exclude = &quot;<font color="red">on</font>&quot;;</p> <blockquote> <p>この値を on に設定すると、ユーザが投稿フォームへアクセスした時に IP アドレスを取得し、管理ページの「IP制限」で書き込み制限対象にした IP アドレスとの比較を行い、該当のユーザからの書き込みを禁止します。</p> </blockquote> <p>$mailto_bbsmaster = &quot;<font color="red">off</font>&quot;;</p> <blockquote> <p>この値を on に設定すると、掲示板へ新しい投稿（返信も含む）があった時に、下の $admin_address で指定したアドレスへお知らせメールを送信します。デフォルトでは off に設定しています。</p> </blockquote> <p>$mailto_bbsmaster2 = &quot;<font color="red">off</font>&quot;;</p> <blockquote> <p>この値を on に設定すると、掲示板へすでに投稿されている記事を編集した時（管理室からの編集は除く）にも、下の $admin_address で指定したアドレスへお知らせメールを送信します。デフォルトでは off に設定しています。</p> </blockquote> <p>$admin_address = &quot;<font color="red">your_mail_address</font>&quot;;</p> <blockquote> <p>上の $mailto_bbsmaster が on に設定されている場合、ここで指定するメールアドレスへ、新着記事が投稿されたことを知らせるメールを送信します。この機能を利用するには PHP で mb_send_mail 関数が利用できる必要があります。$mailto_bbsmaster が on の場合でも、ここの値を空欄にするとメール送信処理は実行されません。</p> </blockquote> <p>$file_post_sw = &quot;<font color="red">off</font>&quot;;</p> <blockquote> <p>この値を on に設定すると、投稿フォームにファイル添付のための項目が表示され、記事にファイルを添付できるようになります。添付されたファイルが画像の場合は記事内に表示され、画像以外のファイルの場合はアイコンで表示されます。添付されたファイルは /modules/gsbbs/upfiles ディレクトリへ格納されます。この機能は .EXE ファイル等の実行ファイルでも添付できてしまいますのでご利用に際してくれぐれもご注意下さい。そのため、デフォルトでは off に設定しています。この機能を利用するためには PHP4.1.0 以降が必要です。</p> </blockquote> <p>$make_thums = &quot;<font color="red">off</font>&quot;;</p> <blockquote> <p>この値を on に設定すると、画像ファイル（.jpg/.png）が投稿された場合、PHP の GDライブラリを使用して、下の $thums_wsize の値に従ってサムネイルを生成します。生成されたサムネイルは /modules/gsbbs/thums ディレクトリに格納されます。この機能を利用するためには GDライブラリ2.0.1 以降が必要です。このため、デフォルトでは off に設定しています。</p> </blockquote> <p>$thums_wsize = <font color="red">100</font>;</p> <blockquote> <p>この値は画像が添付されている場合にのみ意味を持ち、ピクセル数で指定します。$make_thums が on の場合は、ここで指定する横幅を持ったサムネイルが生成されます。$make_thums が off (on ではない) の場合には、画像を表示する際に、投稿された画像をここで表示した横幅に縮小して表示します。どちらの場合も縦幅は元画像の縦横の比率をもとに自動で算出されます。</p> </blockquote> <p>$ranking_max = <font color="red">20</font>;</p> <blockquote> <p>掲示板の「RANKING」ボタンを押すと発言ランキングが表示されますが、この時に何位までを表示するかを指定します。</p> </blockquote> <p>$ranking_since = <font color="red">60*60*24*365</font>;</p> <blockquote> <p>現在時刻から何秒前までの記事を発言ランキングの集計対象とするかを指定します。この値より古い記事は集計されないため、集計結果が $ranking_max より少ないユーザしか表示しない場合もあります。デフォルトでは 60(秒) × 60(分) × 24(時間) × 365(日)、すなわち 31536000 秒です。</p> </blockquote> <p>$new_mark = <font color="red">60*60*24</font>;</p> <blockquote> <p>G's BBS v4 では、新しい記事に「new」を表示しますが、現在時刻から何秒前までの記事に「new」を表示するかを指定します。デフォルトでは 60(秒) × 60(分) × 24(時間)、すなわち 86400 秒です。</p> </blockquote> <p>$footer = &quot;G's BBS v4 Beta, Copyright(C) 2003, &lt;a href=￥&quot;http://gustav-net.com/￥&quot; target=￥&quot;_blank￥&quot;&gt;Web Application Factory&lt;/a&gt; All Rights Reserved.&quot;;</p> <blockquote> <p>掲示板の最下部にある著作権表示の内容を指定します。<font color="red">この値は書き換えないで下さい。</font>著作権表示についての詳しい情報は「<a href="copyright.html">著作権表示について</a>」を御覧下さい。</p> </blockquote> </blockquote> <p><font color="#ff00ff">●</font> 掲示板各所の色設定などは共用スタイルシート /modules/gsbbs/inc_files/share.css に記述されています。管理室よりブラウザ上で簡単に設定を変更することができます。スタイルシートを編集する要領で書き換えて下さい。スタイルシートについての詳しい情報は他の書籍や Web ページをご覧下さい。以下に、各項目の詳細を示します。<font color="red">赤字</font>はデフォルト値です。</p> <blockquote> <p>tr { <font color="red">text-align: left</font> }</p> <blockquote> <p>文章の左寄せ</p> </blockquote> <p>.sread_table { <font color="red">border: solid 2px #ccccff</font> }</p> <blockquote> <p>スレッドの枠のスタイルを指定しています。</p> </blockquote> <p>.bs_title { <font color="red">font-size: 10pt; background-color: #ffffff</font> }</p> <blockquote> <p>掲示板タイトルのスタイル</p> </blockquote> <p>.bs_srelist { <font color="red">font-size: 8pt; background-color: #ffe4b5</font> }</p> <blockquote> <p>２ch風スレ一覧のスタイル</p> </blockquote> <p>.bs_oya1 { <font color="red">font-size: 10pt</font> }</p> <blockquote> <p>親記事のタイトル</p> </blockquote> <p>.bs_oya2 { <font color="red">font-size: 10pt; background-color: #ffffff</font> }</p> <blockquote> <p>親記事の投稿情報</p> </blockquote> <p>.bs_oya3 { <font color="red">font-size: 10pt; background-color: #ffffff</font> }</p> <blockquote> <p>親記事の本文</p> </blockquote> <p>.bs_ko1 { <font color="red">font-size: 10pt</font> }</p> <blockquote> <p>子記事のタイトル</p> </blockquote> <p>.bs_ko2 { <font color="red">font-size: 10pt; background-color: #ffffff</font> }</p> <blockquote> <p>子記事の投稿情報</p> </blockquote> <p>.bs_ko3 { <font color="red">font-size: 10pt; background-color: #ffffff</font> }</p> <blockquote> <p>子記事の本文</p> </blockquote> <p>.forminput { <font color="red">background-color: #ffffff; border: solid 1px #ccccff</font> }</p> <blockquote> <p>投稿フォームの枠のスタイルを指定しています。</p> </blockquote> <p>.imgspace { <font color="red">vertical-align: top; float: left; margin: 0px 2px 2px 0px</font> }</p> <blockquote> <p>添付された画像を表示する際のマージン等を指定しています。</p> </blockquote> </blockquote> <p><font color="#ff00ff">●</font> 投稿フォーム内のタイトル背景色、本文文字色はそれぞれ以下のファイルに記述されています。これらのファイルを書き換えることにより、投稿フォームに表示される色選択ラジオボタンの色テーブルを変えることができます。</p> <ul> <li>タイトル背景色 → /modules/gsbbs/inc_files/title_color.clt <li>本文文字色 → /modules/gsbbs/inc_files/msf_color.clt </ul> <p><font color="#ff00ff">●</font> 共用スタイルシートによる色やマージンの指定の他、各ページの HTML タグに直接色の指定をしています。G's BBS [XOOPS] はこれらを含め、管理者によって自由に変更を加えてカスタマイズすることが許可されています。ただし、無制限にカスタマイズを許しているものではありません。カスタマイズについての詳しい情報は <a href="copyright.html">著作権表示について</a> をご覧下さい。</p> </body></html>